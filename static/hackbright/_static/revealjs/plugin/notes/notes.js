var RevealNotes=(function(){function a(){var f=document.querySelector('script[src$="notes.js"]').src;f=f.replace(/notes\.js(\?.*)?$/,"");var e=window.open(f+"notes.html","reveal.js - Notes","width=1100,height=700");function b(){var g=setInterval(function(){e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")},500);window.addEventListener("message",function(h){var i=JSON.parse(h.data);if(i&&i.namespace==="reveal-notes"&&i.type==="connected"){clearInterval(g);c()}})}function d(){var i=Reveal.getCurrentSlide(),g=i.querySelector("aside.notes");var h={namespace:"reveal-notes",type:"state",notes:"",markdown:false,whitespace:"normal",state:Reveal.getState()};if(i.hasAttribute("data-notes")){h.notes=i.getAttribute("data-notes");h.whitespace="pre-wrap"}if(g){h.notes=g.innerHTML;h.markdown=typeof g.getAttribute("data-markdown")==="string"}e.postMessage(JSON.stringify(h),"*")}function c(){Reveal.addEventListener("slidechanged",d);Reveal.addEventListener("fragmentshown",d);Reveal.addEventListener("fragmenthidden",d);Reveal.addEventListener("overviewhidden",d);Reveal.addEventListener("overviewshown",d);Reveal.addEventListener("paused",d);Reveal.addEventListener("resumed",d);d()}b()}if(!/receiver/i.test(window.location.search)){if(window.location.search.match(/(\?|\&)notes/gi)!==null){a()}document.addEventListener("keydown",function(b){if(document.querySelector(":focus")!==null||b.shiftKey||b.altKey||b.ctrlKey||b.metaKey){return}if(Reveal.getConfig().keyboard===false){return}if(b.keyCode===83){b.preventDefault();a()}},false)}return{open:a}})();